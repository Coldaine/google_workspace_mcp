---
- name: Render secrets from Bitwarden and prepare environment
  hosts: localhost
  connection: local
  vars:
    bitwarden_secret_map:
      GOOGLE_OAUTH_CLIENT_ID: { item_id: "REPLACE-WITH-BITWARDEN-ITEM-UUID-CLIENT", field: "client_id" }
      GOOGLE_OAUTH_CLIENT_SECRET: { item_id: "REPLACE-WITH-BITWARDEN-ITEM-UUID-SECRET", field: "client_secret" }
    secret_output_dir: "./secrets"
  roles:
    - secret-management
